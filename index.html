<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ›¼è°·æ¥µæ¨‚ 2025 - å®Œæ•´è¡Œç¨‹åœ°åœ–ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f4f7f9; scroll-behavior: smooth; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .nav-btn.active { color: #6366f1; border-bottom: 3px solid #6366f1; font-weight: bold; }
        #map { height: 650px; width: 100%; border-radius: 1.5rem; z-index: 1; border: 2px solid #e2e8f0; }
        
        /* åœ°åœ–æ¨™ç±¤æ¨£å¼ */
        .map-label {
            background: white; border: 1px solid #6366f1; border-radius: 4px; padding: 2px 6px;
            font-size: 11px; font-weight: bold; white-space: nowrap; box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            color: #4338ca;
        }
        .airport-label { background: #ef4444; color: white; border-color: #b91c1c; }
        .hotel-label { background: #6366f1; color: white; border-color: #4338ca; }
        .spa-label { background: #10b981; color: white; border-color: #059669; }
    </style>
</head>
<body class="text-slate-800 pb-10">

    <nav class="fixed top-0 w-full bg-white/90 backdrop-blur-md shadow-sm z-[1000]">
        <div class="max-w-5xl mx-auto px-4 flex justify-between items-center h-16">
            <h1 class="font-black text-xl bg-gradient-to-r from-indigo-600 to-pink-500 bg-clip-text text-transparent">BKK 2025</h1>
            <div class="flex space-x-6 text-sm">
                <button onclick="showSection('itinerary')" class="nav-btn active py-5">æ¯æ—¥è¡Œç¨‹/é ç®—</button>
                <button onclick="showSection('map-page')" class="nav-btn py-5" onclick="initMapOnce()">äº’å‹•å…¨åœ–</button>
                <button onclick="showSection('tips')" class="nav-btn py-5">è¡Œå‰æé†’</button>
            </div>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto px-4 pt-24">
        
        <section id="itinerary" class="tab-content active space-y-8">
            
            <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                <h2 class="text-lg font-bold mb-4 flex items-center">ğŸ“Š é ä¼°æ¯æ—¥æ”¯å‡ºåˆ†æ (THB/äºº)</h2>
                <div class="h-[250px]">
                    <canvas id="budgetStackedChart"></canvas>
                </div>
                <div class="grid grid-cols-3 gap-2 mt-4 text-[10px] text-center">
                    <div class="bg-indigo-50 p-2 rounded">äº¤é€š (Trans)</div>
                    <div class="bg-rose-50 p-2 rounded">åƒå– (Food)</div>
                    <div class="bg-amber-50 p-2 rounded">ç©æ¨‚ (Fun/SPA)</div>
                </div>
            </div>

            <div class="bg-white rounded-3xl overflow-hidden shadow-sm border border-slate-100">
                <div class="bg-indigo-600 p-4 text-white flex justify-between items-center">
                    <h3 class="font-bold text-lg">Day 1 - 2/05 (ä¸‰) æŠµé”æ›¼è°·</h3>
                    <span class="text-sm bg-white/20 px-3 py-1 rounded-full">é ä¼°ï¼š2,300 THB</span>
                </div>
                <div class="p-6 space-y-5">
                    <div class="border-l-4 border-indigo-200 pl-4">
                        <p class="font-bold text-indigo-600">18:30 | é£¯åº—é›†çµ (Amara Bangkok)</p>
                        <p class="text-sm text-slate-600">Ryan (16:45 æŠµé”) å…ˆè¾¦å…¥ä½ã€‚Jeff & å†·æ±— (17:30 æŠµé”) æ­è»Šå‰ä¾†æœƒåˆã€‚</p>
                    </div>
                    <div class="bg-orange-50 p-4 rounded-2xl border-l-4 border-orange-400">
                        <p class="font-bold text-orange-600 italic underline">â˜… é¤“é¬¼ç¬¬ä¸€é¤ï¼šSomtum Der (Silom)</p>
                        <p class="text-sm text-slate-600 mt-1">æ­¥è¡Œ 8 åˆ†é˜ã€‚ä¸‹é£›æ©Ÿé¦–é¸ï¼ç±³å…¶æ—æ¨è–¦çš„é“åœ°æ³°å¼ç†±ç‚’ï¼Œç‚¸é›èˆ‡æ²™æ‹‰èƒ½è¿…é€Ÿè£œå……èƒ½é‡ã€‚</p>
                    </div>
                    <div class="text-sm text-slate-600 space-y-2">
                        <p><b>21:30 | Prime Massage</b>: é£¯åº—é™„è¿‘è©•åˆ†æ¥µé«˜çš„å°ˆæ¥­æŒ‰æ‘©ã€‚</p>
                        <p><b>23:00 | Patpong å€æ¢ç´¢</b>: åŒ…å« Jupiter èˆ‡ Dream Boy çš„å¤œè‰²æ–‡åŒ–é«”é©—ã€‚</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-3xl overflow-hidden shadow-sm border border-slate-100">
                <div class="bg-indigo-500 p-4 text-white flex justify-between items-center">
                    <h3 class="font-bold text-lg">Day 2 - 2/06 (å››) ä¸‰æº«æš–ç†±åŠ›</h3>
                    <span class="text-sm bg-white/20 px-3 py-1 rounded-full">é ä¼°ï¼š2,600 THB</span>
                </div>
                <div class="p-6 space-y-4 text-sm text-slate-600">
                    <p><b>11:00 | å››é¢ä½›åƒæ‹œ</b>: ä½æ–¼å¸‚ä¸­å¿ƒï¼Œç¥ˆæ±‚æ—…é€”å¹³å®‰ã€‚éš¨å¾Œå¯æ–¼ Siam å€å•†å ´ç”¨é¤ã€‚</p>
                    <p><b>15:00 | R3 Sauna</b>: æ›¼è°·ç¶“å…¸åŒå¿—ä¸‰æº«æš–ï¼Œè¨­æ–½è±å¯Œï¼Œä¸‹åˆäººæ½®é–‹å§‹æ¹§ç¾ã€‚</p>
                    <p><b>23:00 | DJ Station</b>: Silom Soi 2 æœ€å¼·å¤œåº—ï¼Œ11:30 æœ‰ç¶“å…¸è¡¨æ¼”ç§€ã€‚</p>
                </div>
            </div>

            <div class="bg-white rounded-3xl overflow-hidden shadow-sm border-2 border-indigo-100">
                <div class="bg-indigo-400 p-4 text-white flex justify-between items-center">
                    <h3 class="font-bold text-lg">Day 3 - 2/07 (äº”) æ²³ç•”å¤•é™½èˆ‡ SPA</h3>
                    <span class="text-sm bg-white/20 px-3 py-1 rounded-full">é ä¼°ï¼š4,000 THB</span>
                </div>
                <div class="p-6 space-y-5">
                    <div class="bg-indigo-50 p-4 rounded-xl border-l-4 border-indigo-400">
                        <p class="font-bold text-indigo-700 underline">â˜… é‡é»ï¼šICONSIAM + æ¡è²·å®Œæˆ</p>
                        <p class="text-sm text-slate-600 mt-1">
                            ä¸è·‘ Big Cï¼Œåœ¨ <b>ICONSIAM (B1 Dear Tummy è¶…å¸‚)</b> æå®šæ‰€æœ‰ä¼´æ‰‹ç¦®èˆ‡é›¶é£Ÿã€‚
                            åˆé¤æ¨è–¦ 1F çš„å®¤å…§æ°´ä¸Šå¸‚å ´ (SookSiam)ã€‚
                        </p>
                    </div>
                    <div class="text-sm text-slate-600 space-y-2">
                        <p><b>17:30 | é„­ç‹å»Ÿå¤•é™½</b>: æ­æ¸¡è¼ªè·¨æ²³ï¼Œæ‹æ”é‡‘å…‰ç† ç† çš„å¤§å¡”ã€‚</p>
                        <p><b>20:30 | The Prince-spa</b>: äº«å—é ‚ç´š SPA æœå‹™ï¼Œç‚ºå¤œæ™šæˆ°é¬¥è“„é›»ã€‚</p>
                        <p><b>23:30 | G.O.D (Guys on Display)</b>: é€±æœ«å¤œå¿…å»çš„è‚Œè‚‰ç”·èˆ‡é…’ç²¾æˆ°å ´ã€‚</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-3xl overflow-hidden shadow-sm border border-slate-100">
                <div class="bg-indigo-300 p-4 text-white flex justify-between items-center">
                    <h3 class="font-bold text-lg">Day 4 - 2/08 (å…­) é€±æœ«æœ€çµ‚ç‹‚æ­¡</h3>
                    <span class="text-sm bg-white/20 px-3 py-1 rounded-full">é ä¼°ï¼š3,400 THB</span>
                </div>
                <div class="p-6 space-y-4 text-sm text-slate-600">
                    <p><b>11:00 | æ´½åœ–æ´½é€±æœ«å¸‚é›†</b>: æ›¼è°·æœ€å¤§éœ²å¤©å¸‚é›†ï¼Œè³¼è²·æ³°å¼é¢¨æ ¼è¡£ç‰©ã€‚</p>
                    <p><b>16:00 | Chakran Sauna</b>: é€±å…­ä¸‹åˆæ˜¯ Chakran çš„å·”å³°æ™‚æ®µï¼Œä¸å®¹éŒ¯éã€‚</p>
                    <p><b>22:00 | Hot Male Bar</b>: é˜¿é‡Œå€çŸ¥åé…’å§ï¼Œä»¥é«˜å“è³ªè¡¨æ¼”èˆ‡æ°£æ°›è‘—ç¨±ã€‚</p>
                </div>
            </div>
        </section>

        <section id="map-page" class="tab-content space-y-4">
            <div class="bg-white p-5 rounded-3xl shadow-sm border">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold">ğŸ“ äº’å‹•å°èˆªå…¨åœ– (å·²åŒ…å« 12 å€‹æ¨™è¨»é»)</h2>
                    <span class="text-[10px] bg-slate-100 px-2 py-1 rounded">æ©Ÿå ´åœ¨æœ€å³å´ (æ±é‚Š)</span>
                </div>
                <div id="map"></div>
                <div class="mt-4 flex flex-wrap gap-4 justify-center">
                    <span class="flex items-center text-[10px]"><span class="w-2 h-2 bg-red-500 mr-1"></span>æ©Ÿå ´</span>
                    <span class="flex items-center text-[10px]"><span class="w-2 h-2 bg-blue-600 mr-1"></span>é£¯åº—</span>
                    <span class="flex items-center text-[10px]"><span class="w-2 h-2 bg-emerald-500 mr-1"></span>SPA/æŒ‰æ‘©</span>
                    <span class="flex items-center text-[10px]"><span class="w-2 h-2 bg-indigo-500 mr-1"></span>ä¸‰æº«æš–/å¤œç”Ÿæ´»</span>
                </div>
            </div>
        </section>

        <section id="tips" class="tab-content">
            <div class="bg-white p-8 rounded-3xl shadow-sm border">
                <h2 class="text-xl font-bold text-red-500 mb-4">ğŸ’¡ æ—…éŠå°å®åš€</h2>
                <ul class="space-y-3 text-sm text-slate-600">
                    <li class="flex items-start"><span class="mr-2">âœ”ï¸</span> ä¸‹è¼‰ Grab/Boltï¼Œæ›¼è°·å°–å³°æ™‚é–“å»ºè­°æ­ BTS ä»¥å…å¡åœ¨è·¯ä¸­å¿ƒã€‚</li>
                    <li class="flex items-start"><span class="mr-2">âœ”ï¸</span> é€²å…¥å¯ºå»Ÿï¼ˆé„­ç‹å»Ÿã€å››é¢ä½›ï¼‰æœè£éœ€èŠé‡ï¼Œé®ä½è‚©è†€èˆ‡éè†ã€‚</li>
                    <li class="flex items-start"><span class="mr-2">âœ”ï¸</span> è²´é‡ç‰©å“åœ¨ G.O.D æˆ– DJ Station é€™ç¨®æ“ æ“å ´æ‰€è«‹å‹™å¿…è²¼èº«ä¿ç®¡ã€‚</li>
                    <li class="flex items-start"><span class="mr-2">âœ”ï¸</span> ä¿æŒæ°´åˆ†è£œå……ï¼Œæ›¼è°·ç†±æµªå¾ˆå¼·ã€‚</li>
                </ul>
            </div>
        </section>

    </main>

    <script>
        // åˆ‡æ›åˆ†é é‚è¼¯
        function showSection(id) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
            if(id === 'map-page') {
                setTimeout(() => { map.invalidateSize(); initMapOnce(); }, 300);
            }
            window.scrollTo(0, 0);
        }

        // --- Chart.js é ç®—å †ç–Šåœ– ---
        const ctx = document.getElementById('budgetStackedChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['D1', 'D2', 'D3', 'D4'],
                datasets: [
                    { label: 'äº¤é€š Trans', data: [500, 300, 600, 400], backgroundColor: '#818cf8' },
                    { label: 'åƒå– Food', data: [800, 1000, 1200, 1000], backgroundColor: '#fb7185' },
                    { label: 'ç©æ¨‚ Fun/SPA', data: [1000, 1300, 2200, 2000], backgroundColor: '#fbbf24' }
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom', labels: { boxWidth: 10, font: { size: 10 } } } },
                scales: { x: { stacked: true, grid: { display: false } }, y: { stacked: true } }
            }
        });

        // --- Leaflet äº’å‹•åœ°åœ–æ ¸å¿ƒé‚è¼¯ ---
        var map = L.map('map').setView([13.7367, 100.5231], 12);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: 'Â© OpenStreetMap'
        }).addTo(map);

        // æŒ‡å®šçš„æ‰€æœ‰ 12 å€‹åœ°é»
        const locations = [
            { name: "BKK æ©Ÿå ´", coords: [13.6895, 100.7501], type: 'airport' },
            { name: "Amara Bangkok (é£¯åº—)", coords: [13.7301, 100.5282], type: 'hotel' },
            { name: "Prime Massage", coords: [13.7288, 100.5312], type: 'spa' },
            { name: "å››é¢ä½›", coords: [13.7443, 100.5404] },
            { name: "R3 Sauna", coords: [13.7251, 100.5323] },
            { name: "DJ Station", coords: [13.7291, 100.5340] },
            { name: "é„­ç‹å»Ÿ Wat Arun", coords: [13.7437, 100.4883] },
            { name: "The Prince-spa", coords: [13.7725, 100.5420], type: 'spa' },
            { name: "G.O.D (å¤œåº—)", coords: [13.7286, 100.5338] },
            { name: "æ´½åœ–æ´½é€±æœ«å¸‚é›†", coords: [13.7999, 100.5505] },
            { name: "Chakran Sauna", coords: [13.7785, 100.5441] },
            { name: "Hot Male Bar", coords: [13.7845, 100.5443] }
        ];

        let hasInitMarkers = false;
        function initMapOnce() {
            if (hasInitMarkers) return;
            locations.forEach(loc => {
                let labelClass = "map-label";
                if(loc.type === 'airport') labelClass += " airport-label";
                if(loc.type === 'hotel') labelClass += " hotel-label";
                if(loc.type === 'spa') labelClass += " spa-label";

                // æ¨™è¨˜èˆ‡æ–‡å­—æ¨™ç±¤
                var labelIcon = L.divIcon({
                    className: 'custom-div-icon',
                    html: `<div class="${labelClass}">${loc.name}</div>`,
                    iconSize: [120, 24],
                    iconAnchor: [60, -10]
                });

                L.marker(loc.coords).addTo(map);
                L.marker(loc.coords, {icon: labelIcon}).addTo(map);
            });

            // èšç„¦æ–¼å¸‚å€ä¸»è¦æ´»å‹•å¸¶
            const cityBounds = locations.filter(l => l.name !== "BKK æ©Ÿå ´").map(l => l.coords);
            map.fitBounds(cityBounds, { padding: [50, 50] });
            hasInitMarkers = true;
        }
    </script>
</body>
</html>